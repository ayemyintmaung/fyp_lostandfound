{"ast":null,"code":"var _jsxFileName = \"D:\\\\fyp_new2\\\\nlf_frontend\\\\src\\\\containers\\\\Register\\\\Register.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { SubmissionError } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { registerAPI } from '../../actions/auth';\nimport RegisterForm from './RegisterForm';\nimport { Notification } from 'element-react';\nimport 'element-theme-default';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = data => {\n      console.log(data);\n      return this.props.register(data).then(res => {\n        console.log(res);\n        this.props.history.push('/login');\n        Notification({\n          title: 'Success',\n          message: 'Register Success, Please Log in now.',\n          type: 'success',\n          duration: 1500\n        });\n      }, err => {\n        console.log(err.response); // validasi async / validasi ke server ketika terjadi error pada server        \n\n        throw new SubmissionError({\n          _error: 'Your name or email has already been registered.'\n        });\n      });\n    };\n  }\n\n  render() {\n    const handleSubmit = this.handleSubmit; // const {message} = this.props.message\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 6,\n      className: \"mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Register\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(RegisterForm, {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst reduxState = state => ({\n  message: state.auth\n});\n\nconst reduxDispatch = dispatch => ({\n  register: data => dispatch(registerAPI(data))\n});\n\nexport default connect(reduxState, reduxDispatch)(Register);","map":{"version":3,"sources":["D:\\fyp_new2\\nlf_frontend\\src\\containers\\Register\\Register.js"],"names":["React","Component","Fragment","Container","Col","Row","SubmissionError","connect","registerAPI","RegisterForm","Notification","Register","handleSubmit","data","console","log","props","register","then","res","history","push","title","message","type","duration","err","response","_error","render","reduxState","state","auth","reduxDispatch","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,iBAApC;AACA,SAASC,eAAT,QAAgC,YAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,SAASC,YAAT,QAA6B,eAA7B;AACA,OAAO,uBAAP;;AACA,MAAMC,QAAN,SAAuBV,SAAvB,CAAiC;AAAA;AAAA;;AAAA,SAE/BW,YAF+B,GAEfC,IAAD,IAAU;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEA,aAAO,KAAKG,KAAL,CAAWC,QAAX,CAAoBJ,IAApB,EACJK,IADI,CACEC,GAAD,IAAS;AACbL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,aAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACAX,QAAAA,YAAY,CAAC;AACXY,UAAAA,KAAK,EAAE,SADI;AAEXC,UAAAA,OAAO,EAAE,sCAFE;AAGXC,UAAAA,IAAI,EAAE,SAHK;AAIXC,UAAAA,QAAQ,EAAE;AAJC,SAAD,CAAZ;AAMD,OAVI,EAUDC,GAAD,IAAS;AACVZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,GAAG,CAACC,QAAhB,EADU,CAEV;;AACA,cAAM,IAAIrB,eAAJ,CAAoB;AACxBsB,UAAAA,MAAM,EAAE;AADgB,SAApB,CAAN;AAGD,OAhBI,CAAP;AAkBD,KAvB8B;AAAA;;AAyB/BC,EAAAA,MAAM,GAAG;AAAA,UACAjB,YADA,GACgB,IADhB,CACAA,YADA,EAEP;;AAEA,WACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAME,oBAAC,YAAD;AAAc,MAAA,QAAQ,EAAEA,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,CAFF,CADF,CADF;AAoBD;;AAjD8B;;AAqDjC,MAAMkB,UAAU,GAAIC,KAAD,KAAY;AAC7BR,EAAAA,OAAO,EAAEQ,KAAK,CAACC;AADc,CAAZ,CAAnB;;AAIA,MAAMC,aAAa,GAAIC,QAAD,KAAe;AACnCjB,EAAAA,QAAQ,EAAGJ,IAAD,IAAUqB,QAAQ,CAAC1B,WAAW,CAACK,IAAD,CAAZ;AADO,CAAf,CAAtB;;AAIA,eAAeN,OAAO,CAACuB,UAAD,EAAaG,aAAb,CAAP,CAAmCtB,QAAnC,CAAf","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport { Container, Col, Row } from 'react-bootstrap'\nimport { SubmissionError } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { registerAPI } from '../../actions/auth'\nimport RegisterForm from './RegisterForm'\n\nimport { Notification } from 'element-react';\nimport 'element-theme-default';\nclass Register extends Component {\n\n  handleSubmit = (data) => {\n    console.log(data)\n\n    return this.props.register(data)\n      .then((res) => {\n        console.log(res);\n        this.props.history.push('/login');     \n        Notification({\n          title: 'Success',\n          message: 'Register Success, Please Log in now.',\n          type: 'success',\n          duration: 1500\n        });     \n      }, (err) => {\n        console.log(err.response);\n        // validasi async / validasi ke server ketika terjadi error pada server        \n        throw new SubmissionError({\n          _error: 'Your name or email has already been registered.'\n        })\n      })\n\n  }\n\n  render() {\n    const {handleSubmit} = this\n    // const {message} = this.props.message\n\n    return (\n      <Fragment>\n        <Container className=\"mt-5\">\n          \n          <Row>\n            <Col md={6} className=\"mx-auto\">\n              \n              <h2>Register</h2>\n              {/* {message && <div className=\"alert alert-success\">{message}</div>} */}\n              <hr/>\n\n              <RegisterForm onSubmit={handleSubmit}/>  \n\n            </Col>\n          </Row>\n          \n\n        </Container>\n      </Fragment>      \n    );\n  }\n\n}\n\nconst reduxState = (state) => ({\n  message: state.auth\n})\n\nconst reduxDispatch = (dispatch) => ({\n  register: (data) => dispatch(registerAPI(data))\n})\n\nexport default connect(reduxState, reduxDispatch)(Register);\n"]},"metadata":{},"sourceType":"module"}